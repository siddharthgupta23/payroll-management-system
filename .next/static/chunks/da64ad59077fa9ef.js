(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let r;var a,s,t=e.i(43476),l=e.i(71645),d=e.i(18566),o=e.i(24136),n=e.i(67881),c=e.i(70065),i=e.i(23750),x=e.i(61664);function m({onSuccess:e}){let[r,a]=(0,l.useState)([]),[s,d]=(0,l.useState)({employeeId:"",month:"",year:new Date().getFullYear(),basicSalary:"",allowances:"0",deductions:"0"}),[o,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)("");(0,l.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=localStorage.getItem("token"),r=await fetch(`${x.API_BASE_URL}/admin/employees`,{headers:{Authorization:`Bearer ${e}`}}),s=await r.json();a(s)}catch(e){p("Failed to load employees")}},y=e=>{d({...s,[e.target.name]:e.target.value})},u=async r=>{r.preventDefault(),p(""),m(!0);try{let r=localStorage.getItem("token");if(!(await fetch(`${x.API_BASE_URL}/admin/salary-slip`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({...s,basicSalary:Number.parseFloat(s.basicSalary),allowances:Number.parseFloat(s.allowances),deductions:Number.parseFloat(s.deductions)})})).ok)throw Error("Failed to create salary slip");e(),d({employeeId:"",month:"",year:new Date().getFullYear(),basicSalary:"",allowances:"0",deductions:"0"})}catch(e){p(e.message)}finally{m(!1)}};return(0,t.jsxs)(c.Card,{className:"p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create Salary Slip"}),h&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded",children:h}),(0,t.jsxs)("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),(0,t.jsxs)("select",{name:"employeeId",value:s.employeeId,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Employee"}),r.map(e=>(0,t.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),(0,t.jsx)(i.Input,{type:"text",name:"month",value:s.month,onChange:y,placeholder:"January",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,t.jsx)(i.Input,{type:"number",name:"year",value:s.year,onChange:y,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Basic Salary"}),(0,t.jsx)(i.Input,{type:"number",name:"basicSalary",value:s.basicSalary,onChange:y,placeholder:"50000",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allowances"}),(0,t.jsx)(i.Input,{type:"number",name:"allowances",value:s.allowances,onChange:y,placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deductions"}),(0,t.jsx)(i.Input,{type:"number",name:"deductions",value:s.deductions,onChange:y,placeholder:"0"})]}),(0,t.jsx)(n.Button,{type:"submit",disabled:o,className:"md:col-span-2",children:o?"Creating...":"Create Salary Slip"})]})]})}let h=(...e)=>e.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim();var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let b=(0,l.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:t="",children:d,iconNode:o,...n},c)=>(0,l.createElement)("svg",{ref:c,...p,width:r,height:r,stroke:e,strokeWidth:s?24*Number(a)/Number(r):a,className:h("lucide",t),...n},[...o.map(([e,r])=>(0,l.createElement)(e,r)),...Array.isArray(d)?d:[d]])),y=(a="LoaderCircle",s=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],(r=(0,l.forwardRef)(({className:e,...r},t)=>(0,l.createElement)(b,{ref:t,iconNode:s,className:h(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,e),...r}))).displayName=`${a}`,r);var u=e.i(47163);function g({className:e,...r}){return(0,t.jsx)(y,{role:"status","aria-label":"Loading",className:(0,u.cn)("size-4 animate-spin",e),...r})}function j(){let[e,r]=(0,l.useState)([]),[a,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`${x.API_BASE_URL}/admin/employees`,{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();r(s)}catch(e){console.error("Failed to fetch employees",e)}finally{s(!1)}};return a?(0,t.jsx)(g,{}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"All Employees"}),0===e.length?(0,t.jsx)(c.Card,{className:"p-6 text-center text-gray-600",children:"No employees found"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Name"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Email"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Department"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Position"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Salary"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.email}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.department||"N/A"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.position||"N/A"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:e.salary?`₹${e.salary.toFixed(2)}`:"N/A"})]},e._id))})]})})]})}function N(){let[e,r]=(0,l.useState)(null),[a,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`${x.API_BASE_URL}/admin/analytics`,{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();r(s)}catch(e){console.error("Failed to fetch analytics",e)}finally{s(!1)}};return a?(0,t.jsx)(g,{}):e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(c.Card,{className:"p-6 bg-blue-50 border-blue-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Total Employees"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEmployees})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-green-50 border-green-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Total Salary Slips"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.totalSalarySlips})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-purple-50 border-purple-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Total Expenses"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["₹",e.totalExpenseAmount.toFixed(0)]})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-orange-50 border-orange-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Expense Count"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:e.totalExpenses})]})]}),(0,t.jsxs)(c.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Recent Salary Trends"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Month"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Total Salary"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Count"})]})}),(0,t.jsx)("tbody",{children:e.salaryTrends.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[e._id.month," ",e._id.year]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.totalSalary.toFixed(2)]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:e.count})]},`${e._id.year}-${e._id.month}`))})]})})]})]}):(0,t.jsx)("div",{children:"No data available"})}function f(){let{user:e,logout:r}=(0,o.useAuth)(),[a,s]=(0,l.useState)("dashboard"),[d,c]=(0,l.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",e?.name]})]}),(0,t.jsx)(n.Button,{onClick:r,variant:"outline",children:"Logout"})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"flex gap-4 mb-8 border-b overflow-x-auto",children:["dashboard","salary","employees"].map(e=>(0,t.jsx)("button",{onClick:()=>s(e),className:`px-4 py-2 font-medium capitalize ${a===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:e},e))}),"dashboard"===a&&(0,t.jsx)(N,{}),"salary"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(n.Button,{onClick:()=>c(!d),children:d?"Cancel":"Create Salary Slip"})}),d&&(0,t.jsx)(m,{onSuccess:()=>c(!1)})]}),"employees"===a&&(0,t.jsx)(j,{})]})]})}function v(){let[e,r]=(0,l.useState)([]),[a,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`${x.API_BASE_URL}/employee/salary-slip`,{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();r(s)}catch(e){console.error("Failed to fetch salary slips",e)}finally{s(!1)}};return a?(0,t.jsx)(g,{}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Your Salary Slips"}),0===e.length?(0,t.jsx)(c.Card,{className:"p-6 text-center text-gray-600",children:"No salary slips found"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Month"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Year"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Basic Salary"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Allowances"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Deductions"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Net Salary"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Status"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.month}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.year}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.basicSalary.toFixed(2)]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.allowances.toFixed(2)]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.deductions.toFixed(2)]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right font-bold",children:["₹",e.netSalary.toFixed(2)]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"paid"===e.status?"bg-green-100 text-green-800":"approved"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e._id))})]})})]})}function S(){let[e,r]=(0,l.useState)({category:"",amount:"",description:"",date:new Date().toISOString().split("T")[0]}),[a,s]=(0,l.useState)(!1),[d,o]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),p=a=>{r({...e,[a.target.name]:a.target.value})},b=async a=>{a.preventDefault(),o(""),h(""),s(!0);try{let a=localStorage.getItem("token");if(!(await fetch(`${x.API_BASE_URL}/employee/expense`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...e,amount:Number.parseFloat(e.amount)})})).ok)throw Error("Failed to submit expense");h("Expense submitted successfully!"),r({category:"",amount:"",description:"",date:new Date().toISOString().split("T")[0]}),setTimeout(()=>window.location.reload(),1500)}catch(e){o(e.message)}finally{s(!1)}};return(0,t.jsxs)(c.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Submit Expense"}),d&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded",children:d}),m&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded",children:m}),(0,t.jsxs)("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{name:"category",value:e.category,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Category"}),(0,t.jsx)("option",{value:"travel",children:"Travel"}),(0,t.jsx)("option",{value:"meals",children:"Meals"}),(0,t.jsx)("option",{value:"accommodation",children:"Accommodation"}),(0,t.jsx)("option",{value:"office-supplies",children:"Office Supplies"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,t.jsx)(i.Input,{type:"number",name:"amount",value:e.amount,onChange:p,placeholder:"1000",step:"0.01",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,t.jsx)(i.Input,{type:"date",name:"date",value:e.date,onChange:p,required:!0})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{name:"description",value:e.description,onChange:p,placeholder:"Expense details...",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),(0,t.jsx)(n.Button,{type:"submit",disabled:a,className:"md:col-span-2",children:a?"Submitting...":"Submit Expense"})]})]})}function w(){let[e,r]=(0,l.useState)([]),[a,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`${x.API_BASE_URL}/employee/expense`,{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();console.log("API DATA:",s);let t=Array.isArray(s)?s:s?.expenses?s.expenses:s?.data?s.data:[];r(t)}catch(e){console.error("Failed to fetch expenses",e)}finally{s(!1)}};return a?(0,t.jsx)(g,{}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Your Expenses"}),0===e.length?(0,t.jsx)(c.Card,{className:"p-6 text-center text-gray-600",children:"No expenses submitted"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Category"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Description"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Amount"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Status"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 capitalize",children:e.category}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.description}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.amount.toFixed(2)]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e._id))})]})})]})}function A(){let[e,r]=(0,l.useState)(null),[a,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`${x.API_BASE_URL}/employee/analytics`,{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();r(s)}catch(e){console.error("Failed to fetch analytics",e)}finally{s(!1)}};return a?(0,t.jsx)(g,{}):e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(c.Card,{className:"p-6 bg-blue-50 border-blue-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Total Salary Earned"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["₹",e.totalSalaryEarned.toFixed(0)]})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-green-50 border-green-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Total Expenses"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["₹",e.totalExpenseAmount.toFixed(0)]})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-purple-50 border-purple-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Approved Expenses"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:e.approvedExpenses})]}),(0,t.jsxs)(c.Card,{className:"p-6 bg-orange-50 border-orange-200",children:[(0,t.jsx)("h3",{className:"text-gray-600 text-sm font-medium mb-2",children:"Pending Expenses"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:e.pendingExpenses})]})]}),e.expenseTrends&&e.expenseTrends.length>0&&(0,t.jsxs)(c.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Expense Trends"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Month"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Total Amount"})]})}),(0,t.jsx)("tbody",{children:e.expenseTrends.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e._id}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.total.toFixed(2)]})]},e._id))})]})})]})]}):(0,t.jsx)("div",{children:"No data available"})}function C(){let{user:e,logout:r}=(0,o.useAuth)(),[a,s]=(0,l.useState)("dashboard");return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Employee Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",e?.name]})]}),(0,t.jsx)(n.Button,{onClick:r,variant:"outline",children:"Logout"})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"flex gap-4 mb-8 border-b overflow-x-auto",children:["dashboard","salary","expenses"].map(e=>(0,t.jsx)("button",{onClick:()=>s(e),className:`px-4 py-2 font-medium capitalize ${a===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:e},e))}),"dashboard"===a&&(0,t.jsx)(A,{}),"salary"===a&&(0,t.jsx)(v,{}),"expenses"===a&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(S,{}),(0,t.jsx)(w,{})]})]})]})}function E(){let e=(0,d.useRouter)(),{user:r,loading:a}=(0,o.useAuth)();return((0,l.useEffect)(()=>{a||r||e.push("/login")},[r,a,e]),a)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(g,{})}):r?"admin"===r.role?(0,t.jsx)(f,{}):(0,t.jsx)(C,{}):null}e.s(["default",()=>E],31713)}]);